<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VCreds Dashboard - Skill Vault</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/src/styles/freelancer-credits.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><i class="fas fa-vault"></i> Skill Vault</h1>
            </div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#" class="active">VCreds Dashboard</a></li>
                <li><a href="/login">Login</a></li>
            </ul>
        </div>
    </nav>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Header Section -->
        <div class="dashboard-header">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-details">
                    <h2>Welcome, <span id="userName">Freelancer</span></h2>
                    <p>Manage your VCreds and earnings</p>
                </div>
            </div>
        </div>

        <!-- Credits Overview -->
        <div class="credits-overview">
            <div class="overview-card balance-card">
                <div class="card-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <div class="card-content">
                    <h3>Available VCreds</h3>
                    <div class="balance-amount" id="creditsBalance">0</div>
                    <p>Ready to withdraw</p>
                </div>
                <div class="card-action">
                    <button class="refresh-btn" onclick="loadUserData()">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>

            <div class="overview-card earnings-card">
                <div class="card-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="card-content">
                    <h3>Total Earnings</h3>
                    <div class="earnings-amount" id="totalEarnings">₹0</div>
                    <p>Lifetime earnings</p>
                </div>
            </div>

            <div class="overview-card pending-card">
                <div class="card-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="card-content">
                    <h3>Pending Withdrawals</h3>
                    <div class="pending-amount" id="pendingWithdrawals">₹0</div>
                    <p>Being processed</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Withdrawal Section -->
            <div class="content-section">
                <div class="section-header">
                    <h3><i class="fas fa-money-bill-wave"></i> Withdraw Credits</h3>
                    <p>Convert your VCreds to cash (1 VCred = ₹9)</p>
                </div>

                <div class="withdrawal-form">
                    <div class="form-group">
                        <label for="withdrawCredits">VCreds to Withdraw</label>
                        <div class="input-group">
                            <input type="number" id="withdrawCredits" placeholder="Enter VCreds" min="10" step="1">
                            <span class="input-suffix">VCreds</span>
                        </div>
                        <div class="conversion-info">
                            <span id="conversionAmount">₹0</span> after 2% processing fee
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="withdrawMethod">Withdrawal Method</label>
                        <select id="withdrawMethod">
                            <option value="">Select Method</option>
                            <option value="bank">Bank Transfer</option>
                            <option value="upi">UPI</option>
                            <option value="paypal">PayPal</option>
                            <option value="paytm">Paytm</option>
                        </select>
                    </div>

                    <div id="accountDetails" class="account-details" style="display: none;">
                        <!-- Dynamic account fields will be inserted here -->
                    </div>

                    <button id="withdrawBtn" class="withdraw-btn" disabled>
                        <i class="fas fa-paper-plane"></i>
                        Request Withdrawal
                    </button>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="content-section">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> Transaction History</h3>
                    <div class="filter-controls">
                        <select id="transactionFilter">
                            <option value="all">All Transactions</option>
                            <option value="received">Credits Received</option>
                            <option value="withdrawal">Withdrawals</option>
                        </select>
                    </div>
                </div>

                <div class="transactions-list" id="transactionsList">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading transactions...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="success-animation">
                <svg class="success-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="success-checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                    <path class="success-checkmark__check" fill="none" d="m14.1 27.2l7.1 7.2 16.7-16.8" />
                </svg>
            </div>
            <h2>Withdrawal Requested!</h2>
            <p>Your withdrawal request has been submitted successfully</p>
            <div class="success-details">
                <div class="detail-item">
                    <i class="fas fa-coins"></i>
                    <span>VCreds: <strong id="successCredits">0</strong></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-money-bill"></i>
                    <span>Amount: <strong id="successAmount">₹0</strong></span>
                </div>
                <div class="detail-item">
                    <i class="fas fa-clock"></i>
                    <span>Processing Time: <strong>1-3 business days</strong></span>
                </div>
            </div>
            <button id="closeModal" class="close-modal-btn">Continue</button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Processing your request...</p>
        </div>
    </div>

    <script src="/src/scripts/freelancer-credits.js"></script>
</body>
</html>