<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Vault - Company Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/src/styles/dashboard.css" rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1><i class="fas fa-vault"></i> Skill Vault</h1>
            </div>
            <div class="nav-user">
                <span id="welcome-message">Welcome back!</span>
                <div class="user-avatar">
                    <i class="fas fa-building"></i>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="profile-card">
                <div class="profile-avatar">
                    <i class="fas fa-building"></i>
                </div>
                <div class="profile-name" id="profile-name">Loading...</div>
                <div class="profile-title" id="profile-title">Company</div>
            </div>

            <ul class="nav-menu">
                <li><a href="#" onclick="showSection('dashboard')" class="active">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a></li>
                <li><a href="#" onclick="showSection('post-jobs')">
                        <i class="fas fa-plus-circle"></i> Post Jobs
                    </a></li>
                <li><a href="#" onclick="showSection('job-listings')">
                        <i class="fas fa-briefcase"></i> My Job Listings
                    </a></li>
                <li><a href="#" onclick="showSection('applications')">
                        <i class="fas fa-file-alt"></i> Applications Received
                    </a></li>
                <li><a href="#" onclick="showSection('hired-freelancers')">
                        <i class="fas fa-users"></i> Hired Freelancers
                    </a></li>
                <li><a href="#" onclick="showSection('active-projects')">
                        <i class="fas fa-tasks"></i> Active Projects
                    </a></li>
                <li><a href="#" onclick="showSection('completed-projects')">
                        <i class="fas fa-check-circle"></i> Completed Projects
                    </a></li>
                <li><a href="#" onclick="showSection('chat')">
                        <i class="fas fa-comments"></i> Chat
                    </a></li>
                <li><a href="#" onclick="showSection('credits')">
                        <i class="fas fa-coins"></i> VCreds Management
                    </a></li>
                <li><a href="#" onclick="showSection('company-profile')">
                        <i class="fas fa-building-user"></i> Company Profile
                    </a></li>
                <li><a href="#" onclick="showSection('premium')">
                        <i class="fas fa-crown"></i> Premium
                    </a></li>
                <li><a href="#" onclick="showSection('settings')">
                        <i class="fas fa-cog"></i> Settings
                    </a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Overview -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h2 class="section-title">Company Dashboard</h2>
                    <p class="section-subtitle">Manage your hiring and projects</p>
                </div>

                <!-- Stats Overview -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="active-jobs">0</h3>
                            <p>Active Job Listings</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="total-applications">0</h3>
                            <p>Applications Received</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="hired-count">0</h3>
                            <p>Hired Freelancers</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="vcreds-balance">0</h3>
                            <p>VCreds Balance</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <a href="#" onclick="showSection('post-jobs')" class="action-card">
                        <div class="action-icon"><i class="fas fa-plus-circle"></i></div>
                        <h3>Post New Job</h3>
                        <p>Find the perfect freelancer</p>
                    </a>
                    <a href="#" onclick="showSection('credits')" class="action-card">
                        <div class="action-icon"><i class="fas fa-credit-card"></i></div>
                        <h3>Purchase VCreds</h3>
                        <p>Add credits to your account</p>
                    </a>
                    <a href="#" onclick="showSection('applications')" class="action-card">
                        <div class="action-icon"><i class="fas fa-eye"></i></div>
                        <h3>Review Applications</h3>
                        <p>Check new proposals</p>
                    </a>
                    <a href="#" onclick="showSection('active-projects')" class="action-card">
                        <div class="action-icon"><i class="fas fa-project-diagram"></i></div>
                        <h3>Manage Projects</h3>
                        <p>Track project progress</p>
                    </a>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="recent-activity-list">
                        <div class="loading-state">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading recent activity...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Post Jobs Section -->
            <section id="post-jobs" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Post a New Job</h2>
                    <p class="section-subtitle">Find the perfect freelancer for your project</p>
                </div>

                <div class="job-posting-form">
                    <form id="job-post-form">
                        <div class="form-section">
                            <h3>Job Details</h3>
                            <div class="form-group">
                                <label for="job-title">Job Title</label>
                                <input type="text" id="job-title" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label for="job-description">Job Description</label>
                                <textarea id="job-description" class="form-textarea" rows="6" required></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="job-category">Category</label>
                                    <select id="job-category" class="form-select" required>
                                        <option value="">Select Category</option>
                                        <option value="web-development">Web Development</option>
                                        <option value="mobile-development">Mobile Development</option>
                                        <option value="design">Design & Creative</option>
                                        <option value="writing">Writing & Content</option>
                                        <option value="marketing">Digital Marketing</option>
                                        <option value="data-science">Data Science</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="job-duration">Project Duration</label>
                                    <select id="job-duration" class="form-select" required>
                                        <option value="">Select Duration</option>
                                        <option value="1-week">Less than 1 week</option>
                                        <option value="1-month">1-4 weeks</option>
                                        <option value="3-months">1-3 months</option>
                                        <option value="6-months">3-6 months</option>
                                        <option value="long-term">6+ months</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Budget & Payment</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="budget-type">Budget Type</label>
                                    <select id="budget-type" class="form-select" required>
                                        <option value="">Select Type</option>
                                        <option value="fixed">Fixed Price</option>
                                        <option value="hourly">Hourly Rate</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="budget-amount">Budget (VCreds)</label>
                                    <input type="number" id="budget-amount" class="form-input" min="10" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Requirements</h3>
                            <div class="form-group">
                                <label for="required-skills">Required Skills (comma-separated)</label>
                                <input type="text" id="required-skills" class="form-input"
                                    placeholder="e.g., JavaScript, React, Node.js">
                            </div>
                            <div class="form-group">
                                <label for="experience-level">Experience Level</label>
                                <select id="experience-level" class="form-select" required>
                                    <option value="">Select Level</option>
                                    <option value="entry">Entry Level</option>
                                    <option value="intermediate">Intermediate</option>
                                    <option value="expert">Expert</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="cancel-btn" onclick="clearJobForm()">Clear Form</button>
                            <button type="submit" class="submit-btn">Post Job</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Job Listings Section -->
            <section id="job-listings" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">My Job Listings</h2>
                    <div class="section-actions">
                        <select id="job-status-filter" class="form-select">
                            <option value="all">All Jobs</option>
                            <option value="active">Active</option>
                            <option value="paused">Paused</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                </div>

                <div class="jobs-list" id="company-jobs-list">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading your job listings...</p>
                    </div>
                </div>
            </section>

            <!-- Applications Section -->
            <section id="applications" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Applications Received</h2>
                    <div class="section-actions">
                        <select id="application-filter" class="form-select">
                            <option value="all">All Applications</option>
                            <option value="new">New</option>
                            <option value="reviewed">Reviewed</option>
                            <option value="shortlisted">Shortlisted</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                </div>

                <div class="applications-list" id="applications-list">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading applications...</p>
                    </div>
                </div>
            </section>

            <!-- VCreds Management Section -->
            <section id="credits" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">VCreds Management</h2>
                    <p class="section-subtitle">Purchase and manage your VCreds for hiring</p>
                </div>

                <!-- Credits Overview -->
                <div class="credits-overview"
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    <div class="overview-card balance-card"
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div class="card-icon"
                                style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-coins" style="font-size: 1.5rem;"></i>
                            </div>
                            <div class="card-content">
                                <h3 style="margin-bottom: 0.5rem; font-size: 1rem; opacity: 0.9;">Available VCreds</h3>
                                <div class="balance-amount" id="company-credits-balance"
                                    style="font-size: 2rem; font-weight: bold; margin-bottom: 0.3rem;">0</div>
                                <p style="font-size: 0.9rem; opacity: 0.8; margin: 0;">Ready to use for hiring</p>
                            </div>
                        </div>
                    </div>

                    <div class="overview-card spent-card"
                        style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 1.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(245, 87, 108, 0.3);">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div class="card-icon"
                                style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-chart-line" style="font-size: 1.5rem;"></i>
                            </div>
                            <div class="card-content">
                                <h3 style="margin-bottom: 0.5rem; font-size: 1rem; opacity: 0.9;">Total Spent</h3>
                                <div class="spent-amount" id="total-spent"
                                    style="font-size: 2rem; font-weight: bold; margin-bottom: 0.3rem;">₹0</div>
                                <p style="font-size: 0.9rem; opacity: 0.8; margin: 0;">Lifetime spending</p>
                            </div>
                        </div>
                    </div>

                    <div class="overview-card projects-card"
                        style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 1.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(79, 172, 254, 0.3);">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div class="card-icon"
                                style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-project-diagram" style="font-size: 1.5rem;"></i>
                            </div>
                            <div class="card-content">
                                <h3 style="margin-bottom: 0.5rem; font-size: 1rem; opacity: 0.9;">Active Projects</h3>
                                <div class="projects-count" id="active-projects-count"
                                    style="font-size: 2rem; font-weight: bold; margin-bottom: 0.3rem;">0</div>
                                <p style="font-size: 0.9rem; opacity: 0.8; margin: 0;">Currently running</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Purchase Credits Section -->
                <div class="content-card"
                    style="background: white; border-radius: 15px; padding: 2rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                    <div class="section-header"
                        style="border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-bottom: 1.5rem;">
                        <h3 style="color: #333; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                            <i class="fas fa-credit-card"></i> Purchase VCreds
                        </h3>
                        <p style="color: #666; margin: 0.5rem 0 0 0;">Buy VCreds to hire freelancers (1 VCred = ₹10)</p>
                    </div>

                    <div class="purchase-options"
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                        <div class="credit-package" onclick="selectPackage(100, 1000, this)" data-credits="100"
                            data-cost="1000"
                            style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                            <h4 style="color: #667eea; margin-bottom: 0.5rem;">Starter</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem;">100 VCreds</div>
                            <div style="color: #666;">₹1,000</div>
                        </div>
                        <div class="credit-package" onclick="selectPackage(500, 4500, this)" data-credits="500"
                            data-cost="4500"
                            style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                            <h4 style="color: #667eea; margin-bottom: 0.5rem;">Professional</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem;">500 VCreds</div>
                            <div style="color: #666;">₹4,500 <span style="color: #28a745; font-size: 0.8rem;">(10%
                                    off)</span></div>
                        </div>
                        <div class="credit-package" onclick="selectPackage(1000, 8000, this)" data-credits="1000"
                            data-cost="8000"
                            style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 1.5rem; text-align: center; cursor: pointer; transition: all 0.3s ease;">
                            <h4 style="color: #667eea; margin-bottom: 0.5rem;">Enterprise</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; margin-bottom: 0.5rem;">1000 VCreds</div>
                            <div style="color: #666;">₹8,000 <span style="color: #28a745; font-size: 0.8rem;">(20%
                                    off)</span></div>
                        </div>
                    </div>

                    <div class="custom-purchase" style="border-top: 1px solid #eee; padding-top: 1.5rem;">
                        <h4 style="margin-bottom: 1rem;">Custom Amount</h4>
                        <div style="display: flex; gap: 1rem; align-items: end;">
                            <div class="form-group" style="flex: 1;">
                                <label for="custom-credits">VCreds Amount</label>
                                <input type="number" id="custom-credits" class="form-input" placeholder="Enter amount"
                                    min="10">
                            </div>
                            <div class="form-group" style="flex: 1;">
                                <label>Total Cost</label>
                                <div id="custom-cost"
                                    style="padding: 0.75rem; background: #f8f9fa; border-radius: 5px; font-weight: bold;">
                                    ₹0</div>
                            </div>
                            <button id="purchase-btn" class="apply-btn" style="background: #28a745;" disabled>
                                <i class="fas fa-shopping-cart"></i> Purchase
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Transaction History -->
                <div class="content-card"
                    style="background: white; border-radius: 15px; padding: 2rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                    <div class="section-header"
                        style="border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-bottom: 1.5rem;">
                        <h3 style="color: #333; display: flex; align-items: center; gap: 0.5rem; margin: 0;">
                            <i class="fas fa-history"></i> Transaction History
                        </h3>
                        <div class="filter-controls">
                            <select id="company-transaction-filter" class="form-select" style="width: auto;">
                                <option value="all">All Transactions</option>
                                <option value="purchase">Purchases</option>
                                <option value="sent">Payments to Freelancers</option>
                                <option value="escrow_hold">Escrow Holds</option>
                            </select>
                        </div>
                    </div>

                    <div class="transactions-list" id="company-transactions-list">
                        <div class="loading-state">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading transactions...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Company Profile Section -->
            <section id="company-profile" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Company Profile</h2>
                    <p class="section-subtitle">Manage your company information</p>
                </div>

                <div class="profile-form">
                    <form id="company-profile-form">
                        <div class="form-section">
                            <h3>Company Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="company-name-profile">Company Name</label>
                                    <input type="text" id="company-name-profile" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label for="company-registration-profile">Registration Number</label>
                                    <input type="text" id="company-registration-profile" class="form-input">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="company-description">Company Description</label>
                                <textarea id="company-description" class="form-textarea" rows="4"></textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Contact Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="business-email-profile">Business Email</label>
                                    <input type="email" id="business-email-profile" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label for="business-phone-profile">Business Phone</label>
                                    <input type="tel" id="business-phone-profile" class="form-input">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="business-address-profile">Business Address</label>
                                <textarea id="business-address-profile" class="form-textarea" rows="3"></textarea>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="cancel-btn">Cancel Changes</button>
                            <button type="submit" class="submit-btn">Update Profile</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Premium Subscription Section -->
            <section id="premium" class="content-section">
                <div class="section-header">
                    <h2><i class="fas fa-crown"></i> Premium Subscription</h2>
                    <p>Unlock exclusive features and grow your business</p>
                </div>

                <!-- Current Subscription Status -->
                <div id="premium-status"></div>

                <!-- Premium Features (if subscribed) -->
                <div id="premium-details" style="margin-bottom: 2rem;"></div>

                <!-- Available Plans -->
                <div>
                    <h3 style="margin-bottom: 1.5rem; text-align: center;">Choose Your Plan</h3>
                    <div id="premium-plans-container"></div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Account Settings</h2>
                    <p class="section-subtitle">Manage your account preferences and security</p>
                </div>

                <!-- Debug Section (Remove in production) -->
                <div class="content-card"
                    style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 10px; padding: 1.5rem; margin-bottom: 2rem;">
                    <h3 style="color: #856404; margin-bottom: 1rem;">
                        <i class="fas fa-bug"></i> Debug Tools (Development Only)
                    </h3>
                    <p style="color: #856404; margin-bottom: 1rem;">Use these tools to reset data during testing:</p>
                    <button onclick="resetCompanyData()" class="apply-btn" style="background: #dc3545;">
                        <i class="fas fa-trash"></i> Reset All Company Data
                    </button>
                </div>

                <div class="settings-content" id="company-settings-content">
                    <!-- Settings content will be loaded here -->
                </div>
            </section>

            <!-- Hired Freelancers Section -->
            <section id="hired-freelancers" class="content-section">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-users"></i> Hired Freelancers</h2>
                    <p class="section-subtitle">Manage your freelancer relationships</p>
                </div>

                <div id="hired-freelancers-container">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading hired freelancers...</p>
                    </div>
                </div>
            </section>

            <!-- Active Projects Section -->
            <section id="active-projects" class="content-section">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-tasks"></i> Active Projects</h2>
                    <p class="section-subtitle">Track and manage ongoing projects</p>
                </div>

                <div id="active-projects-container">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading active projects...</p>
                    </div>
                </div>
            </section>

            <!-- Completed Projects Section -->
            <section id="completed-projects" class="content-section">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-check-circle"></i> Completed Projects</h2>
                    <p class="section-subtitle">View your project history</p>
                </div>

                <div id="completed-projects-container">
                    <div class="loading-state">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading completed projects...</p>
                    </div>
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat" class="content-section">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-comments"></i> Messages</h2>
                    <p class="section-subtitle">Communicate with freelancers and team members</p>
                </div>

                <div style="display:flex;gap:1.5rem;height:calc(100vh - 200px);background:white;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
                    <!-- Conversations Panel -->
                    <div class="conversations-panel" style="width:350px;border-right:1px solid #eee;display:flex;flex-direction:column;">
                        <div style="padding:1rem 1.5rem;border-bottom:1px solid #eee;background:#f8f9fa;">
                            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.8rem;">
                                <h3 style="margin:0;font-size:1.1rem;color:#333;">Conversations</h3>
                                <button id="new-chat-btn" style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;padding:0.4rem 0.8rem;border-radius:6px;cursor:pointer;font-size:0.85rem;">
                                    <i class="fas fa-plus"></i> New
                                </button>
                            </div>
                            <input type="text" placeholder="Search conversations..." 
                                   style="width:100%;padding:0.7rem;border:1px solid #ddd;border-radius:8px;font-size:0.9rem;">
                        </div>
                        <div id="conversations-list" style="flex:1;overflow-y:auto;">
                            <div style="text-align:center;padding:3rem 1rem;color:#999;">
                                <i class="fas fa-spinner fa-spin" style="font-size:2rem;"></i>
                                <p style="margin-top:1rem;">Loading conversations...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Messages Panel -->
                    <div style="flex:1;display:flex;flex-direction:column;">
                        <!-- Chat Header -->
                        <div id="chat-header" style="padding:1rem 1.5rem;border-bottom:1px solid #eee;background:#f8f9fa;min-height:70px;">
                            <div style="text-align:center;color:#999;padding:1rem;">
                                <i class="fas fa-comments" style="font-size:2rem;opacity:0.3;"></i>
                                <p style="margin-top:0.5rem;">Select a conversation to start chatting</p>
                            </div>
                        </div>

                        <!-- Messages Container -->
                        <div id="chat-messages" style="flex:1;overflow-y:auto;padding:1.5rem;background:#fafbfc;">
                            <div style="text-align:center;padding:3rem 1rem;color:#999;">
                                <i class="fas fa-comments" style="font-size:3rem;opacity:0.3;"></i>
                                <p style="margin-top:1rem;">Your messages will appear here</p>
                            </div>
                        </div>

                        <!-- Message Input -->
                        <div style="padding:1rem 1.5rem;border-top:1px solid #eee;background:white;">
                            <div style="display:flex;gap:1rem;align-items:center;">
                                <input type="text" id="chat-input" placeholder="Type your message..." 
                                       style="flex:1;padding:0.8rem 1.2rem;border:1px solid #ddd;border-radius:25px;font-size:0.95rem;outline:none;" disabled>
                                <button id="send-message" disabled
                                        style="width:50px;height:50px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:all 0.2s;box-shadow:0 4px 15px rgba(102,126,234,0.3);">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- Success Modal -->
    <div id="purchase-success-modal" class="modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; align-items: center; justify-content: center;">
        <div class="modal-content"
            style="background: white; padding: 2rem; border-radius: 15px; max-width: 400px; margin: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-align: center;">
            <div class="success-animation" style="margin-bottom: 1rem;">
                <div
                    style="width: 80px; height: 80px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto; animation: pulse 2s infinite;">
                    <i class="fas fa-check" style="color: white; font-size: 2rem;"></i>
                </div>
            </div>
            <h2 style="color: #333; margin-bottom: 1rem;">Purchase Successful!</h2>
            <p style="color: #666; margin-bottom: 1.5rem;">Your VCreds have been added to your account</p>
            <div class="success-details"
                style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin-bottom: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>VCreds Purchased:</span>
                    <strong id="success-credits">0</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Amount Paid:</span>
                    <strong id="success-amount">₹0</strong>
                </div>
                <div style="display: flex; justify-content: space-between;">
                    <span>New Balance:</span>
                    <strong id="success-balance">0 VCreds</strong>
                </div>
            </div>
            <button id="close-success-modal" class="apply-btn" style="width: 100%;">Continue</button>
        </div>
    </div>

    <style>
        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .modal.show {
            display: flex !important;
        }
    </style>

    <!-- Razorpay Script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <!-- Scripts -->
    <script src="/src/scripts/config.js"></script>
    <script src="/src/scripts/dashboard/auth.js"></script>
    <script src="/src/scripts/dashboard/navigation.js"></script>
    <script src="/src/scripts/dashboard/company-main.js"></script>
    <script src="/src/scripts/dashboard/company-jobs.js"></script>
    <script src="/src/scripts/dashboard/company-credits.js"></script>
    <script src="/src/scripts/dashboard/company-profile.js"></script>
    <script src="/src/scripts/dashboard/notifications.js"></script>
    <script src="/src/scripts/dashboard/settings.js"></script>
    
    <!-- Active Projects & Hired Freelancers Scripts -->
    <script src="/src/scripts/dashboard/work-submission.js"></script>
    <script src="/src/scripts/dashboard/active-projects.js"></script>
    <script src="/src/scripts/dashboard/hired-freelancers.js"></script>
    
    <!-- Socket.IO Client -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Razorpay SDK -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    
    <!-- Premium Subscription Script -->
    <script src="/src/scripts/dashboard/premium-subscription.js"></script>
    
    <!-- Chat Script -->
    <script src="/src/scripts/dashboard/chat.js"></script>
    
    <script>
        // Initialize chat manager after DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            if (document.getElementById('chat')) {
                window.chatManager = new ChatManager({ apiBase: '' });
            }
        });
    </script>
</body>

</html>